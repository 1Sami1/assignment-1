<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>MDIA 2294</title>
	
	<style>
	    thead{
	        font-weight:bold;
	    }
	    
	    td{
	        padding-left:5px;
	        padding-right:5px;	        
	    }
	    
	    td.sub-total{
	        text-align:right;	        
	    }
	</style>
</head>
<body>
	<h1>MDIA 2294: ACME Corp Invoice</h1>
	
	<table>
	    <thead>
	        <tr>
	            <td>ITEM</td>
	            <td>DESCRIPTION</td>
	            <td>QTY</td>
	            <td>PRICE</td>
	            <td>LINE TOTAL</td>
	        </tr>
	    </thead>
	    <tbody>
	        <tr>
	            <td>1</td>
	            <td><input id="line-1-description" type="text" size="40" value="Anvil" /></td>
	            <td><input id="line-1-quantity" type="text" size="3" value="5" /></td>
	            <td><input id="line-1-price" type="text" size="6" value="35.00" /></td>
	            <td class="sub-total"><span id="line-1"></span></td>
	        </tr>
	        <tr>
	            <td>2</td>
	            <td><input id="line-2-description" type="text" size="40" value="Rocket Skates (each)" /></td>
	            <td><input id="line-2-quantity" type="text" size="3" value="2" /></td>
	            <td><input id="line-2-price" type="text" size="6" value="24.99" /></td>
	            <td class="sub-total"><span id="line-2"></span></td>
	        </tr>
	        <tr>
	            <td>3</td>
	            <td><input id="line-3-description" type="text" size="40" value="Giant Magnet" /></td>
	            <td><input id="line-3-quantity" type="text" size="3" value="1" /></td>
	            <td><input id="line-3-price" type="text" size="6" value="125.50" /></td>
	            <td class="sub-total"><span id="line-3"></span></td>
	        </tr>
	        <tr>
	            <td>4</td>
	            <td><input id="line-4-description" type="text" size="40" value="Ball bearings" /></td>
	            <td><input id="line-4-quantity" type="text" size="3" value="1000" /></td>
	            <td><input id="line-4-price" type="text" size="6" value="0.25" /></td>
	            <td class="sub-total"><span id="line-4"></span></td>
	        </tr>
	        <tr>
	            <td>5</td>
	            <td><input id="line-5-description" type="text" size="40" value="Portable holes" /></td>
	            <td><input id="line-5-quantity" type="text" size="3" value="12" /></td>
	            <td><input id="line-5-price" type="text" size="6" value="15.25" /></td>
	            <td class="sub-total"><span id="line-5"></span></td>
	        </tr>
	    </tbody>
	    <tfoot>
	        <tr>
	            <td colspan="4" style="text-align:right;">SUB TOTAL</td>  
	            <td class="sub-total"><span id="sub-total"></span></td>	        
	        </tr>
	        <tr>
	            <td colspan="4" style="text-align:right;">DISCOUNT</td>  
	            <td class="sub-total"><span id="discount"></span></td>	        
	        </tr>
	        <tr>
	            <td colspan="4" style="text-align:right;">TAX</td>  
	            <td class="sub-total"><span id="tax"></span></td>	        
	        </tr>
	        <tr>
	            <td colspan="4" style="text-align:right;">TOTAL</td>  
	            <td class="sub-total" style="border-top:solid black 1px"><span id="Total"></span></td>	        
	        </tr>
	    </tfoot>	    
	</table>
	
	<div><button id="calculate">Calculate</button></div>
	<div>NOTE: discounts of 10% are given to orders over $250</div>

	<script>
		// Sami Adli 
		//A01272459
		// Assignment 1 (Calculator)



		// storing the calculate button element in a variable
		const calc_btn = document.querySelector('#calculate');
		const taxValue = .12; 
		const discountNum = .1;
		
	    function calculate() {

			// assigning variables to totals and initializing them to 0 so they can be changed later
			// lineTotal is the variable of the total for each line (qty * price = lineTotal)
			let lineTotal = 0;
			//subTotal is the variable of the total of all the lines together, before discounts and taxes are calculated
			let subTotal = 0;
			//finalTotal is the variable of the whole Total, the total of all items after taxes and discounts were calculated
			let finalTotal = 0;


			// grabs value entered into #line-1-quantity and assigns it to this variable 
			const line_1_quant = document.querySelector("#line-1-quantity").value;
			// grabs value entered into #line-1-price and assigns it to this variable 
			const line_1_price = document.querySelector("#line-1-price").value;
			// multiplies the two variables IE the values of quantity * price, so we can get the line total 
			lineTotal = line_1_quant * line_1_price;
			// grabs the value in #line-1 which is the line total and adds a $ before the number as well as using the toFixed() to round to 2 decimal points
			document.querySelector("#line-1").innerHTML = "$ " + lineTotal.toFixed(2);
			// adds the line total to the other line totals so we get a sub total of all lines used
			subTotal += lineTotal; 

			// calculations for the second line of the calculator
			const line2_quant = document.querySelector("#line-2-quantity").value;
			const line2_price = document.querySelector("#line-2-price").value;
			lineTotal = line2_quant * line2_price; 
			document.querySelector("#line-2").innerHTML = "$ " + lineTotal.toFixed(2);
			subTotal += lineTotal; 

			// calculations for the third line of the calculator
			const line3_quant = document.querySelector('#line-3-quantity').value;
			const line3_price = document.querySelector("#line-3-price").value;
			lineTotal = line3_price * line3_quant;
			document.querySelector("#line-3").innerHTML = "$ " + lineTotal.toFixed(2);
			subTotal += lineTotal; 

			// calculations for the fourth line of the calculator
			const line4_quant = document.querySelector('#line-4-quantity').value;
			const line4_price = document.querySelector("#line-4-price").value;
			lineTotal = line4_price * line4_quant;
			document.querySelector("#line-4").innerHTML = "$ " + lineTotal.toFixed(2);
			subTotal += lineTotal; 

			// calculations for the 5th line of the calculator
			const line5_quant = document.querySelector('#line-5-quantity').value;
			const line5_price = document.querySelector("#line-5-price").value;
			lineTotal = line5_price * line5_quant;
			document.querySelector("#line-5").innerHTML = "$ " + lineTotal.toFixed(2);
			subTotal += lineTotal; 

			// this is the subtotal line where it displays the subtotal before taxes and discount
			document.querySelector("#sub-total").innerHTML = "$ " + subTotal.toFixed(2);

			// this is the code for the discount application, used the ternary operator to apply the discount if the subtotal is greater than 250$ otherwise it displays 0
			let discount = (subTotal > 250) ? subTotal * discountNum : 0;
			document.querySelector("#discount").innerHTML = "$ " + discount.toFixed(2);

			// made a tax variable to store the tax so we can use it and add it to the finalTotal later on
			let tax = 0;
			//calculating the tax by multiplying  the subtotal and the taxValue which is a variable that I had stored (0.12) in. 
			tax = subTotal * taxValue;
			// displaying the tax in the tax line
			document.querySelector("#tax").innerHTML = "$ " + tax.toFixed(2);

			// the total calculating everything including taxes and discount if applied, storing the result in finalTotal
			finalTotal = (subTotal - discount) + tax; 
			// displaying the total in the span with the id #total and rounding it to 2 decimal points with toFixed()
			document.querySelector("#Total").innerHTML = "$ " + finalTotal.toFixed(2);

			
	    }
		// added an event listener to the Calculate button thats runs the function calculate() whenever the button is clicked
		calc_btn.addEventListener("click", calculate);
	
	
    </script>
</body>
</html>